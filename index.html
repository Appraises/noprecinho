<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NoPrecinho - O Waze dos Pre√ßos</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/src/css/landing.css">
</head>

<body>

    <nav class="navbar">
        <a href="/" class="logo">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                style="color: var(--l-primary);">
                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z" />
                <circle cx="12" cy="9" r="2.5" />
            </svg>
            NoPrecinho
        </a>
        <div class="nav-cta">
            <a href="/login.html" class="btn btn-login">Entrar</a>
            <a href="/signup.html" class="btn btn-signup">Come√ßar Agora</a>
        </div>
    </nav>

    <main>
        <div class="hero-wrapper">
            <div class="hero-bg"></div>

            <div class="hero-content">
                <h1>Pare de pagar caro. Saiba onde √© mais barato.</h1>
                <p>O NoPrecinho ajuda voc√™ a encontrar o menor pre√ßo em mercados, farm√°cias e postos perto de voc√™. Uma
                    comunidade que economiza junta.</p>

                <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: flex-start;">
                    <a href="/signup.html" class="btn btn-signup" style="padding: 1rem 2rem; font-size: 1.1rem;">Criar
                        conta gr√°tis</a>
                    <button id="btn-how-it-works" class="btn btn-login"
                        style="border: 1px solid var(--l-border); cursor: pointer;">Como
                        funciona?</button>
                </div>

                <div class="hero-stats">
                    <div class="stat-item">
                        <strong>+50k</strong>
                        <span>Usu√°rios</span>
                    </div>
                    <div class="stat-item">
                        <strong>24h</strong>
                        <span>Pre√ßos em tempo real</span>
                    </div>
                    <div class="stat-item">
                        <strong>R$ 0</strong>
                        <span>Custo para usar</span>
                    </div>
                </div>
            </div>

            <div class="hero-visual">
                <div class="mock-map" id="anim-map">
                    <!-- Cursor for animation -->
                    <div class="cursor-hand" id="anim-cursor"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Se√ß√£o: A Ideia -->
    <section class="section-idea">
        <div class="section-inner">
            <div class="idea-text">
                <span class="section-badge">A Ideia</span>
                <h2>O <span class="text-gradient">Waze dos Pre√ßos</span></h2>
                <p>Imagine um lugar onde todos compartilham os pre√ßos que encontram nas lojas. Voc√™ vai ao mercado, v√™ o
                    pre√ßo de um produto e registra. Outros fazem o mesmo. O resultado? <strong>Uma comunidade inteira
                        economizando junta, em tempo real.</strong></p>
                <p>O NoPrecinho nasceu de uma ideia simples: ningu√©m deveria pagar mais caro por falta de informa√ß√£o.
                    Com a for√ßa da comunidade, transformamos a busca por pre√ßos baixos em algo r√°pido, f√°cil e
                    colaborativo.</p>
            </div>
            <div class="idea-visual">
                <div class="idea-card">
                    <div class="idea-card-icon">ü§ù</div>
                    <div class="idea-card-text">
                        <strong>Colaborativo</strong>
                        <span>Cada usu√°rio contribui com os pre√ßos que encontra</span>
                    </div>
                </div>
                <div class="idea-card">
                    <div class="idea-card-icon">‚ö°</div>
                    <div class="idea-card-text">
                        <strong>Tempo Real</strong>
                        <span>Pre√ßos atualizados pela comunidade o tempo todo</span>
                    </div>
                </div>
                <div class="idea-card">
                    <div class="idea-card-icon">üÜì</div>
                    <div class="idea-card-text">
                        <strong>100% Gratuito</strong>
                        <span>Sem custos, sem an√∫ncios, sem pegadinhas</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Se√ß√£o: Features (Dark) -->
    <section class="section-features">
        <div class="section-inner">
            <span class="section-badge-dark">Por que usar NoPrecinho?</span>
            <h2>Economize mais. Pague menos.</h2>
            <p class="section-subtitle-dark">Todo brasileiro sabe que pre√ßo muda de mercado pra mercado. Nossa miss√£o √©
                acabar com essa assimetria de informa√ß√£o.</p>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon-box">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z" />
                            <circle cx="12" cy="9" r="2.5" />
                        </svg>
                    </div>
                    <h3>Mapa de Pre√ßos</h3>
                    <p>Veja mercados, farm√°cias e postos perto de voc√™ com os pre√ßos atualizados no mapa interativo.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon-box">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" />
                            <path d="M7 7h3v3H7z" />
                            <path d="M7 14h3v3H7z" />
                            <path d="M14 7h3v3h-3z" />
                            <path d="M14 14h3v3h-3z" />
                        </svg>
                    </div>
                    <h3>Escaneie & Cadastre</h3>
                    <p>Tire uma foto da etiqueta ou escaneie o c√≥digo de barras para registrar um pre√ßo em segundos.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon-box">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <path d="M12 6v6l4 2" />
                        </svg>
                    </div>
                    <h3>Medidor de Frescor</h3>
                    <p>Saiba se o pre√ßo cadastrado √© recente e confi√°vel com nosso indicador visual de frescor em tempo
                        real.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon-box">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2" />
                            <rect x="9" y="3" width="6" height="4" rx="1" />
                            <path d="M9 14l2 2 4-4" />
                        </svg>
                    </div>
                    <h3>Lista Inteligente</h3>
                    <p>Monte sua lista de compras e descubra automaticamente qual loja oferece o melhor custo-benef√≠cio.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon-box">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
                            <path d="M13.73 21a2 2 0 0 1-3.46 0" />
                        </svg>
                    </div>
                    <h3>Alertas de Pre√ßo</h3>
                    <p>Receba notifica√ß√µes quando o pre√ßo de um produto que voc√™ acompanha baixar na sua regi√£o.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon-box">
                        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                            <circle cx="9" cy="7" r="4" />
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                            <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                        </svg>
                    </div>
                    <h3>Comunidade Ativa</h3>
                    <p>Milhares de pessoas ajudando umas √†s outras a encontrar os melhores pre√ßos todos os dias.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Se√ß√£o: Medidor de Frescor -->
    <section class="section-freshness">
        <div class="section-inner">
            <div class="freshness-content">
                <div class="freshness-text">
                    <span class="section-badge">Medidor de Frescor</span>
                    <h2>Pre√ßo velho n√£o serve. <span class="text-gradient">O nosso √© fresco.</span></h2>
                    <p>No NoPrecinho, cada pre√ßo tem um indicador de frescor que mostra quando ele foi reportado pela
                        comunidade. Assim voc√™ sabe se pode confiar no que est√° vendo.</p>
                    <p>Quanto mais recente o pre√ßo, mais confi√°vel ele √©. O medidor muda de cor automaticamente com o
                        tempo:</p>
                </div>
                <div class="freshness-visual">
                    <div class="freshness-bar">
                        <div class="freshness-segment freshness-segment--fresh">
                            <div class="freshness-tier-badge tier-fresh">üü¢ Fresco</div>
                            <span class="freshness-label">Menos de 24h</span>
                            <p>O pre√ßo foi cadastrado recentemente. Alta confiabilidade.</p>
                        </div>
                        <div class="freshness-segment freshness-segment--stale">
                            <div class="freshness-tier-badge tier-stale">üü° Recente</div>
                            <span class="freshness-label">24h ‚Äì 48h</span>
                            <p>O pre√ßo ainda √© relevante, mas pode ter mudado.</p>
                        </div>
                        <div class="freshness-segment freshness-segment--outdated">
                            <div class="freshness-tier-badge tier-outdated">üî¥ Desatualizado</div>
                            <span class="freshness-label">Mais de 48h</span>
                            <p>Pre√ßo antigo. Pode n√£o ser mais preciso.</p>
                        </div>
                    </div>
                    <div class="freshness-color-bar">
                        <div class="fcb-fresh"></div>
                        <div class="fcb-stale"></div>
                        <div class="fcb-outdated"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Se√ß√£o: Como Funciona -->
    <section class="section-how-it-works" id="como-funciona">
        <div class="section-inner">
            <span class="section-badge">Passo a Passo</span>
            <h2>Como o NoPrecinho <span class="text-gradient">funciona?</span></h2>
            <p class="section-subtitle">√â simples, r√°pido e 100% gratuito. Veja como voc√™ pode economizar:</p>

            <div class="steps-timeline">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-body">
                        <h3>Encontre lojas perto de voc√™</h3>
                        <p>O NoPrecinho usa sua localiza√ß√£o para mostrar mercados, farm√°cias e postos de combust√≠vel
                            pr√≥ximos no mapa.</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-body">
                        <h3>Compare pre√ßos em tempo real</h3>
                        <p>Veja e compare os pre√ßos de produtos em diferentes estabelecimentos. Nossos dados s√£o
                            atualizados pela comunidade em tempo real.</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-body">
                        <h3>Contribua com pre√ßos</h3>
                        <p>Tire uma foto da etiqueta de pre√ßo ou escaneie o c√≥digo de barras para cadastrar um novo
                            pre√ßo e ajudar outros usu√°rios.</p>
                    </div>
                </div>
                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-body">
                        <h3>Economize de verdade</h3>
                        <p>Monte sua lista de compras e descubra qual estabelecimento oferece o melhor custo-benef√≠cio
                            para tudo que voc√™ precisa.</p>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 3rem;">
                <a href="/signup.html" class="btn btn-signup" style="padding: 1rem 2.5rem; font-size: 1.1rem;">Come√ßar a
                    economizar</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="landing-footer">
        <div class="section-inner">
            <p>&copy; 2026 NoPrecinho. Feito com üíö pela comunidade.</p>
        </div>
    </footer>

    <script type="module">
        import { auth } from './src/js/auth.js';

        // Auth Check
        if (auth.isAuthenticated()) {
            document.querySelector('.nav-cta').innerHTML = `
                <a href="/app.html" class="btn btn-signup">Ir para o App</a>
            `;
        }

        // Animation Logic
        const mapEl = document.getElementById('anim-map');
        const cursorEl = document.getElementById('anim-cursor');

        function createMarker(x, y, icon, price, label) {
            const el = document.createElement('div');
            el.className = 'marker';
            el.style.left = x + '%';
            el.style.top = y + '%';
            el.innerHTML = icon;
            el.setAttribute('data-price', price);

            const tooltip = document.createElement('div');
            tooltip.className = 'price-tooltip';
            tooltip.innerHTML = `<span>${label}</span>${price}`;
            el.appendChild(tooltip);

            mapEl.appendChild(el);
            return el;
        }

        async function runAnimationLoop() {
            // 1. Initial State: Clear markers (except cursor)
            const existing = mapEl.querySelectorAll('.marker');
            existing.forEach(e => e.remove());

            // Reset cursor
            cursorEl.style.transition = 'none';
            cursorEl.style.transform = 'translate(10px, 10px)';
            cursorEl.style.opacity = '1';

            // 2. Scenario: Finding a product
            const storeA = createMarker(30, 40, 'üõí', 'R$ 22,90', 'Mercado A'); // Expensive
            const storeB = createMarker(70, 60, 'üõí', 'R$ 14,50', 'Mercado B'); // Cheap

            await wait(1500);

            // 3. Check Store A (Expensive)
            cursorEl.style.transition = 'all 1s cubic-bezier(0.25, 0.1, 0.25, 1)';
            cursorEl.style.transform = `translate(${storeA.offsetLeft + 15}px, ${storeA.offsetTop + 15}px)`;

            await wait(1000);
            storeA.classList.add('active');
            storeA.querySelector('.price-tooltip').classList.add('expensive');

            await wait(1500);

            // 4. Check Store B (Cheap)
            cursorEl.style.transform = `translate(${storeB.offsetLeft + 15}px, ${storeB.offsetTop + 15}px)`;

            await wait(1000);
            storeB.classList.add('active');
            storeB.querySelector('.price-tooltip').classList.add('cheap');

            // 5. Select Store B
            await wait(500);
            cursorEl.style.transform = `translate(${storeB.offsetLeft + 15}px, ${storeB.offsetTop + 15}px) scale(0.8)`; // Click press

            await wait(200);
            cursorEl.style.transform = `translate(${storeB.offsetLeft + 15}px, ${storeB.offsetTop + 15}px) scale(1)`; // Click release

            // Pulse effect for success
            const ripple = document.createElement('div');
            ripple.style.position = 'absolute';
            ripple.style.left = storeB.offsetLeft + 'px';
            ripple.style.top = storeB.offsetTop + 'px';
            ripple.style.width = '40px';
            ripple.style.height = '40px';
            ripple.style.borderRadius = '50%';
            ripple.style.border = '2px solid #059669';
            ripple.style.transition = 'all 0.6s ease-out';
            mapEl.appendChild(ripple);

            setTimeout(() => {
                ripple.style.transform = 'scale(3)';
                ripple.style.opacity = '0';
            }, 50);

            // 6. Reset loop
            await wait(4000);
            storeA.classList.remove('active');
            storeB.classList.remove('active');
            ripple.remove();

            runAnimationLoop();
        }

        function wait(ms) { return new Promise(r => setTimeout(r, ms)); }

        // Start animation
        runAnimationLoop();

        // Smooth scroll "Como funciona?"
        document.getElementById('btn-how-it-works').addEventListener('click', () => {
            document.getElementById('como-funciona').scrollIntoView({ behavior: 'smooth' });
        });

    </script>
</body>

</html>